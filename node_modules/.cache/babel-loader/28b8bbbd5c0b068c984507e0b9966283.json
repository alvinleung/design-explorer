{"ast":null,"code":"var _jsxFileName = \"/Users/alvinleung/Google Drive/Projects/alvinleung-portfolio/design-explorer/src/components/designExplorer/designExplorer.js\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport Viewport from \"./viewport\";\n\nfunction DesignExplorer() {\n  const imgList = [`${process.env.PUBLIC_URL}/img/8 Viewing your tasks.svg`, `${process.env.PUBLIC_URL}/img/9 Contacting a client.svg`, `${process.env.PUBLIC_URL}/img/10 Contacting a helper.svg`];\n  const [dragging, setDragging] = useState(false);\n  const [viewportZoom, setViewportZoom] = useState(1);\n  const [viewportCamearPos, setViewportCamearPos] = useState({\n    x: 0,\n    y: 0\n  });\n\n  function mouseDownHandler(e) {\n    // enter the moving state\n    e.stopPropagation();\n    e.preventDefault(); // enter dragging mode\n\n    setDragging(true);\n  }\n\n  function mouseUpHandler(e) {\n    // exit dragging mode\n    setDragging(false);\n  }\n\n  function mouseWheelHandler(e) {\n    // stop the document from scrolling when the user mouse over this\n    e.nativeEvent.preventDefault(); // pan around the viewport using scroll wheel when the zooming mode is not active\n    // setViewportOffsetPos({\n    //   x: viewportOffsetPos.x - e.nativeEvent.deltaX,\n    //   y: viewportOffsetPos.y - e.nativeEvent.deltaY,\n    // });\n    // calculate zoom value\n\n    const newZoomValue = viewportZoom - e.nativeEvent.deltaY * 10; // set the zoom level\n\n    setViewportZoom(clamp(newZoomValue, MIN_ZOOM, MAX_ZOOM));\n  }\n\n  function mouseMoveHandler(e) {\n    if (dragging) {\n      // more about clientX/pageX/screenX\n      // https://stackoverflow.com/questions/6073505/what-is-the-difference-between-screenx-y-clientx-y-and-pagex-y/9335517\n      const maxPos = {\n        x: 0,\n        y: 0\n      };\n      const minPos = {\n        x: -(viewportContainerRef.current.scrollWidth - viewportContainerRef.current.clientWidth),\n        y: -(viewportContainerRef.current.scrollHeight - viewportContainerRef.current.clientHeight)\n      };\n      setViewportOffsetPos({\n        // for some reason react glitches when we use offsetX\n        x: clamp(e.nativeEvent.pageX - dragOffset.x, minPos.x, maxPos.x),\n        y: clamp(e.nativeEvent.pageY - dragOffset.y, minPos.y, maxPos.y)\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Viewport, {\n    onMouseDown: mouseDownHandler,\n    onMouseUp: mouseUpHandler,\n    onMouseMove: mouseMoveHandler,\n    camearPosition: viewportCamearPos,\n    src: imgList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default DesignExplorer;","map":{"version":3,"sources":["/Users/alvinleung/Google Drive/Projects/alvinleung-portfolio/design-explorer/src/components/designExplorer/designExplorer.js"],"names":["React","useState","Viewport","DesignExplorer","imgList","process","env","PUBLIC_URL","dragging","setDragging","viewportZoom","setViewportZoom","viewportCamearPos","setViewportCamearPos","x","y","mouseDownHandler","e","stopPropagation","preventDefault","mouseUpHandler","mouseWheelHandler","nativeEvent","newZoomValue","deltaY","clamp","MIN_ZOOM","MAX_ZOOM","mouseMoveHandler","maxPos","minPos","viewportContainerRef","current","scrollWidth","clientWidth","scrollHeight","clientHeight","setViewportOffsetPos","pageX","dragOffset","pageY"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,SAASC,cAAT,GAA0B;AACxB,QAAMC,OAAO,GAAG,CACb,GAAEC,OAAO,CAACC,GAAR,CAAYC,UAAW,+BADZ,EAEb,GAAEF,OAAO,CAACC,GAAR,CAAYC,UAAW,gCAFZ,EAGb,GAAEF,OAAO,CAACC,GAAR,CAAYC,UAAW,iCAHZ,CAAhB;AAMA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACS,YAAD,EAAeC,eAAf,IAAkCV,QAAQ,CAAC,CAAD,CAAhD;AACA,QAAM,CAACW,iBAAD,EAAoBC,oBAApB,IAA4CZ,QAAQ,CAAC;AAAEa,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAD,CAA1D;;AAEA,WAASC,gBAAT,CAA0BC,CAA1B,EAA6B;AAC3B;AACAA,IAAAA,CAAC,CAACC,eAAF;AACAD,IAAAA,CAAC,CAACE,cAAF,GAH2B,CAK3B;;AACAV,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD;;AAED,WAASW,cAAT,CAAwBH,CAAxB,EAA2B;AACzB;AACAR,IAAAA,WAAW,CAAC,KAAD,CAAX;AACD;;AAED,WAASY,iBAAT,CAA2BJ,CAA3B,EAA8B;AAC5B;AACAA,IAAAA,CAAC,CAACK,WAAF,CAAcH,cAAd,GAF4B,CAI5B;AACA;AACA;AACA;AACA;AAEA;;AACA,UAAMI,YAAY,GAAGb,YAAY,GAAGO,CAAC,CAACK,WAAF,CAAcE,MAAd,GAAuB,EAA3D,CAX4B,CAY5B;;AACAb,IAAAA,eAAe,CAACc,KAAK,CAACF,YAAD,EAAeG,QAAf,EAAyBC,QAAzB,CAAN,CAAf;AACD;;AAED,WAASC,gBAAT,CAA0BX,CAA1B,EAA6B;AAC3B,QAAIT,QAAJ,EAAc;AACZ;AACA;AAEA,YAAMqB,MAAM,GAAG;AACbf,QAAAA,CAAC,EAAE,CADU;AAEbC,QAAAA,CAAC,EAAE;AAFU,OAAf;AAIA,YAAMe,MAAM,GAAG;AACbhB,QAAAA,CAAC,EAAE,EACDiB,oBAAoB,CAACC,OAArB,CAA6BC,WAA7B,GACAF,oBAAoB,CAACC,OAArB,CAA6BE,WAF5B,CADU;AAKbnB,QAAAA,CAAC,EAAE,EACDgB,oBAAoB,CAACC,OAArB,CAA6BG,YAA7B,GACAJ,oBAAoB,CAACC,OAArB,CAA6BI,YAF5B;AALU,OAAf;AAWAC,MAAAA,oBAAoB,CAAC;AACnB;AACAvB,QAAAA,CAAC,EAAEW,KAAK,CAACR,CAAC,CAACK,WAAF,CAAcgB,KAAd,GAAsBC,UAAU,CAACzB,CAAlC,EAAqCgB,MAAM,CAAChB,CAA5C,EAA+Ce,MAAM,CAACf,CAAtD,CAFW;AAGnBC,QAAAA,CAAC,EAAEU,KAAK,CAACR,CAAC,CAACK,WAAF,CAAckB,KAAd,GAAsBD,UAAU,CAACxB,CAAlC,EAAqCe,MAAM,CAACf,CAA5C,EAA+Cc,MAAM,CAACd,CAAtD;AAHW,OAAD,CAApB;AAKD;AACF;;AACD,sBACE,oBAAC,QAAD;AACE,IAAA,WAAW,EAAEC,gBADf;AAEE,IAAA,SAAS,EAAEI,cAFb;AAGE,IAAA,WAAW,EAAEQ,gBAHf;AAIE,IAAA,cAAc,EAAEhB,iBAJlB;AAKE,IAAA,GAAG,EAAER,OALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AASD;;AAED,eAAeD,cAAf","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport Viewport from \"./viewport\";\n\nfunction DesignExplorer() {\n  const imgList = [\n    `${process.env.PUBLIC_URL}/img/8 Viewing your tasks.svg`,\n    `${process.env.PUBLIC_URL}/img/9 Contacting a client.svg`,\n    `${process.env.PUBLIC_URL}/img/10 Contacting a helper.svg`,\n  ];\n\n  const [dragging, setDragging] = useState(false);\n  const [viewportZoom, setViewportZoom] = useState(1);\n  const [viewportCamearPos, setViewportCamearPos] = useState({ x: 0, y: 0 });\n\n  function mouseDownHandler(e) {\n    // enter the moving state\n    e.stopPropagation();\n    e.preventDefault();\n\n    // enter dragging mode\n    setDragging(true);\n  }\n\n  function mouseUpHandler(e) {\n    // exit dragging mode\n    setDragging(false);\n  }\n\n  function mouseWheelHandler(e) {\n    // stop the document from scrolling when the user mouse over this\n    e.nativeEvent.preventDefault();\n\n    // pan around the viewport using scroll wheel when the zooming mode is not active\n    // setViewportOffsetPos({\n    //   x: viewportOffsetPos.x - e.nativeEvent.deltaX,\n    //   y: viewportOffsetPos.y - e.nativeEvent.deltaY,\n    // });\n\n    // calculate zoom value\n    const newZoomValue = viewportZoom - e.nativeEvent.deltaY * 10;\n    // set the zoom level\n    setViewportZoom(clamp(newZoomValue, MIN_ZOOM, MAX_ZOOM));\n  }\n\n  function mouseMoveHandler(e) {\n    if (dragging) {\n      // more about clientX/pageX/screenX\n      // https://stackoverflow.com/questions/6073505/what-is-the-difference-between-screenx-y-clientx-y-and-pagex-y/9335517\n\n      const maxPos = {\n        x: 0,\n        y: 0,\n      };\n      const minPos = {\n        x: -(\n          viewportContainerRef.current.scrollWidth -\n          viewportContainerRef.current.clientWidth\n        ),\n        y: -(\n          viewportContainerRef.current.scrollHeight -\n          viewportContainerRef.current.clientHeight\n        ),\n      };\n\n      setViewportOffsetPos({\n        // for some reason react glitches when we use offsetX\n        x: clamp(e.nativeEvent.pageX - dragOffset.x, minPos.x, maxPos.x),\n        y: clamp(e.nativeEvent.pageY - dragOffset.y, minPos.y, maxPos.y),\n      });\n    }\n  }\n  return (\n    <Viewport\n      onMouseDown={mouseDownHandler}\n      onMouseUp={mouseUpHandler}\n      onMouseMove={mouseMoveHandler}\n      camearPosition={viewportCamearPos}\n      src={imgList}\n    />\n  );\n}\n\nexport default DesignExplorer;\n"]},"metadata":{},"sourceType":"module"}